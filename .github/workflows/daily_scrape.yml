name: 毎日0時にしたらばスレッド取得→LINE送信
# GitHub Actions workflow
on:
  schedule:
    # 毎日 15:00 UTC = 日本時間 00:00（夜12時）
    - cron: '0 15 * * *'
  
  # 手動実行も可能
  workflow_dispatch:

jobs:
  scrape-and-send:
    runs-on: ubuntu-latest
    
    steps:
      # リポジトリをチェックアウト
      - name: Checkout repository
        uses: actions/checkout@v3
      
      # Python 3.10 をセットアップ
      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.10'
      
      # 依存ライブラリをインストール
      - name: Install dependencies
        run: |
          pip install -r requirements.txt
      
      # メインスクリプトを実行
      - name: Run scraper and send to LINE
        env:
          LINE_NOTIFY_TOKEN: ${{ secrets.LINE_NOTIFY_TOKEN }}
        run: |
          python main.py
